###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.30.1.53127/W32 for ARM     11/Nov/2014  19:28:12 #
# Copyright 1999-2011 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Libraries\AMT_Drivers\TAS5713\TAS5713.c               #
#    Command line =  C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Libraries\AMT_Drivers\TAS5713\TAS5713.c -D S4051A -D  #
#                    DEBUG -D FREE_RTOS -D STM32F40_41xxx -D                  #
#                    USE_STM324xG_EVAL -D USE_STDPERIPH_DRIVER -D             #
#                    __ARM_CORTEX_MX__ -D IAR_ARM_CM4F -D USE_USB_OTG_FS      #
#                    -lcN C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\De #
#                    vCode\2\Projects\S4051A\EWARM\..\Output\S4051A\Applicati #
#                    on\List\ -o C:\Users\tony.tsou\Desktop\AmTRAN\Projects\1 #
#                    5_K2\DevCode\2\Projects\S4051A\EWARM\..\Output\S4051A\Ap #
#                    plication\Obj\ --debug --endian=little --cpu=Cortex-M4   #
#                    -e --fpu=VFPv4_sp --dlib_config "C:\Program Files        #
#                    (x86)\IAR Systems\Embedded Workbench                     #
#                    6.0\arm\INC\c\DLib_Config_Normal.h" -I                   #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\inc\ -I                         #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\App_SRC\ -I                  #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\App_SRC\Include\ -I          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\App_SRC\SERVICES\ -I         #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\App_SRC\SERVICES\USB_HD\inc\ #
#                     -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\Dev #
#                    Code\2\Projects\S4051A\EWARM\..\App_SRC\SERVICES\USB_HD\ #
#                    src\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2 #
#                    \DevCode\2\Projects\S4051A\EWARM\..\App_SRC\SERVICES\wav #
#                    ePlayer\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\1 #
#                    5_K2\DevCode\2\Projects\S4051A\EWARM\..\App_SRC\Managers #
#                    \ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\De #
#                    vCode\2\Projects\S4051A\EWARM\..\App_SRC\Dispatchers\    #
#                    -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevC #
#                    ode\2\Projects\S4051A\EWARM\..\..\..\Libraries\CMSIS\Inc #
#                    lude\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K #
#                    2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Libraries\CMS #
#                    IS\Device\ST\STM32F4xx\Include\ -I                       #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\STM32F4xx_St #
#                    dPeriph_Driver\inc\ -I C:\Users\tony.tsou\Desktop\AmTRAN #
#                    \Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\.. #
#                    \Libraries\FreeRTOS\Source\portable\IAR\ARM_CM4F\ -I     #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\FreeRTOS\Sou #
#                    rce\include\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projec #
#                    ts\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Librar #
#                    ies\FreeRTOS\Source\ -I C:\Users\tony.tsou\Desktop\AmTRA #
#                    N\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\. #
#                    .\Libraries\STM32_USB_OTG_Driver\inc\ -I                 #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\STM32_USB_De #
#                    vice_Library\Core\inc\ -I C:\Users\tony.tsou\Desktop\AmT #
#                    RAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\.. #
#                    \..\Libraries\STM32_USB_Device_Library\Class\cdc\inc\    #
#                    -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevC #
#                    ode\2\Projects\S4051A\EWARM\..\..\..\Libraries\STM32_USB #
#                    _HOST_Library\Core\inc\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\STM32_USB_HOST_Library\Class\MSC\inc\ -I  #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Utilities\Third_Party\ #
#                    efsl\inc\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\ #
#                    15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Utilities #
#                    \Third_Party\fat_fs\inc\ -I                              #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Utilities\mainstream_v #
#                    1\stm32f411\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projec #
#                    ts\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Utilit #
#                    ies\mainstream_v1\stm32f411\it\ -I                       #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    EXT_FLASH\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects #
#                    \15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Librarie #
#                    s\AMT_Drivers\TAS5727\ -I C:\Users\tony.tsou\Desktop\AmT #
#                    RAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\.. #
#                    \..\Libraries\AMT_Drivers\TAS5711\ -I                    #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    TAS5707\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\1 #
#                    5_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Libraries\ #
#                    AMT_Drivers\TAS5713\ -I C:\Users\tony.tsou\Desktop\AmTRA #
#                    N\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\. #
#                    .\Libraries\AMT_Drivers\CS49844\ -I                      #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    CS8422\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15 #
#                    _K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Libraries\A #
#                    MT_Drivers\CS5346\ -I C:\Users\tony.tsou\Desktop\AmTRAN\ #
#                    Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\ #
#                    Libraries\AMT_Drivers\OTI3368\ -I                        #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    HT68F30\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\1 #
#                    5_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Libraries\ #
#                    AMT_Drivers\BTM640\ -I C:\Users\tony.tsou\Desktop\AmTRAN #
#                    \Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\.. #
#                    \Libraries\AMT_Drivers\sii953x\application\ -I           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_ipv\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_cbus\ -I                         #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_cdc\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_cec\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_arc\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_diag\ -I                         #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_msw\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\application\app_osd\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\ -I C:\Users\tony.tsou\Desktop\AmTRAN\ #
#                    Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\ #
#                    Libraries\AMT_Drivers\sii953x\component\tx\ -I           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\repeater_avr\ -I                       #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\video_tables\ -I                       #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\audio_rx\ -I                           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\edid_tx\ -I                            #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\debugger_hdmigear\ -I                  #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\cbus\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\component\rtpi\ -I    #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\cdc\ -I C:\Users\tony.tsou\Desktop\AmT #
#                    RAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\.. #
#                    \..\Libraries\AMT_Drivers\sii953x\component\cec_manager\ #
#                     -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\Dev #
#                    Code\2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Driv #
#                    ers\sii953x\component\thx\ -I                            #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\ipv\ -I C:\Users\tony.tsou\Desktop\AmT #
#                    RAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\.. #
#                    \..\Libraries\AMT_Drivers\sii953x\component\osd\ -I      #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\cec_switch\ -I                         #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\component\cec_system_audio_control\ -I           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\ -I C:\Users\tony.tsou\Desktop\AmTRAN\Pro #
#                    jects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\..\..\Lib #
#                    raries\AMT_Drivers\sii953x\driver\audio_mix_drv\ -I      #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\sii953x_drv\ -I                           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\cra_drv\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\driver\matrix_sw_drv\ #
#                     -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\Dev #
#                    Code\2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Driv #
#                    ers\sii953x\driver\nvram_sram_drv\ -I                    #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\tpi_drv\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\driver\audio_rx_drv\  #
#                    -I C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevC #
#                    ode\2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drive #
#                    rs\sii953x\driver\repeater_avr_drv\ -I                   #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\gpio_drv\ -I                              #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\tpg_drv\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\driver\cbus_drv\ -I   #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\cpi_drv\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\driver\arc_drv\ -I    #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\driver\osd_drv\ -I C:\Users\tony.tsou\Desktop\Am #
#                    TRAN\Projects\15_K2\DevCode\2\Projects\S4051A\EWARM\..\. #
#                    .\..\Libraries\AMT_Drivers\sii953x\driver\ipv_drv\ -I    #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\hal\ir_remote\ -I                       #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\hal\eeprom\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\hal\timer\ -I                           #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\hal\i2c\ -I                             #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\osal\timer\ -I                          #
#                    C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\..\..\Libraries\AMT_Drivers\ #
#                    sii953x\platform\board\ -Ohz -I "C:\Program Files        #
#                    (x86)\IAR Systems\Embedded Workbench                     #
#                    6.0\arm\CMSIS\Include\"                                  #
#    List file    =  C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\Output\S4051A\Application\Li #
#                    st\TAS5713.lst                                           #
#    Object file  =  C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode #
#                    \2\Projects\S4051A\EWARM\..\Output\S4051A\Application\Ob #
#                    j\TAS5713.o                                              #
#                                                                             #
#                                                                             #
###############################################################################

C:\Users\tony.tsou\Desktop\AmTRAN\Projects\15_K2\DevCode\2\Libraries\AMT_Drivers\TAS5713\TAS5713.c
      1          #include "freertos_conf.h"
      2          #include "freertos_task.h"
      3          
      4          #include "TAS5713.h"
      5          
      6          #if ( configDAP_TAS5713 == 1 )
      7          
      8          #define TAS5713_ENTER_SHUTDOWN    TRUE
      9          #define TAS5713_EXIT_SHUTDOWN    FALSE
     10          
     11          /*-------------------------- Register defintion ------------------------------*/
     12          #define CLOCK_CTRL_REG                      0x00
     13          #define SYS_CONTROL_1_REG                   0x03
     14          #define SYS_CONTROL_2_REG                   0x05
     15          #define SOFT_MUTE_REG                       0x06
     16          #define MUTE_CH1                            (1<<0)
     17          #define MUTE_CH2                            (1<<1)
     18          #define MUTE_CH3                            (1<<2)
     19          
     20          
     21          #define MASTER_VOL_REG                      0x07
     22          #define CHANNEL_1_VOL_REG                   0x08
     23          #define CHANNEL_2_VOL_REG                   0x09
     24          #define CHANNEL_3_VOL_REG                   0x0A
     25          #define VOL_CONFIG_REG                      0x0E
     26          #define IC_DEALY_CH_1_REG                   0x11
     27          #define IC_DEALY_CH_2_REG                   0x12
     28          #define IC_DEALY_CH_3_REG                   0x13
     29          #define IC_DEALY_CH_4_REG                   0x14
     30          #define PWM_SHUTDOWN_REG                    0x19
     31          #define OSC_TRIM_REG                        0x1B
     32          #define BKND_ERR_REG                        0x1C
     33          #define INPUT_MUX_REG                       0x20
     34          #define PWM_MUX_REG                         0x25
     35          #define CH_1_BQ_0                           0x29
     36          #define CH_1_BQ_1                           0x2A
     37          #define CH_1_BQ_2                           0x2B
     38          #define CH_1_BQ_3                           0x2C
     39          #define CH_1_BQ_4                           0x2D
     40          #define CH_1_BQ_5                           0x2E
     41          #define CH_1_BQ_6                           0x2F
     42          #define CH_2_BQ_0                           0x30
     43          #define CH_2_BQ_1                           0x31
     44          #define CH_2_BQ_2                           0x32
     45          #define CH_2_BQ_3                           0x33
     46          #define CH_2_BQ_4                           0x34
     47          #define CH_2_BQ_5                           0x35
     48          #define CH_2_BQ_6                           0x36
     49          #define DRC_1_SOFTENING_FILTER_AE_OM_REG    0x3B
     50          #define DRC_1_ATT_REL_RATE_REG              0x3C
     51          #define DRC_2_SOFTENING_FILTER_AL_OM_REG    0x3E
     52          #define DRC_2_ATT_REL_RATE_REG              0x3F
     53          #define DRC_1_ATT_REL_THRESHOLD_REG         0x40
     54          #define DRC_2_ATT_DEC_THRESHOLD_REG         0x43     
     55          #define DRC_CTRL_REG                        0x46
     56          #define BANK_SWITCH_CTRL_REG                0x50
     57          #define CH_1_OUTPUT_MIXER_REG               0x51
     58          #define CH_2_OUTPUT_MIXER_REG               0x52
     59          #define CH_1_BQ_7_REG                       0x58
     60          #define CH_1_BQ_8_REG                       0x59
     61          #define CH_4_BQ_0_REG                       0x5A
     62          #define CH_4_BQ_1_REG                       0x5B
     63          #define OUTPUT_POST_SCALE_REG               0x56
     64          #define OUTPUT_PRE_SCALE_REG                0x57
     65          #define CH_1_INLINE_MIXER_REG               0x70
     66          #define INLINE_DRC_EN_MIXER_CH_1_REG        0x71
     67          #define CH_1_RIGHT_CHANNEL_MIXER_REG        0x72
     68          #define CH_1_LEFT_CHANNEL_MIXER_REG         0x73
     69          #define CH_2_INLINE_MIXER_REG               0x74
     70          #define INLINE_DRC_EN_MIXER_CH_2_REG        0x75
     71          #define CH_2_LEFT_CHANNEL_MIXER_REG         0x76
     72          #define CH_2_RIGHT_CHANNEL_MIXER_REG        0x77 
     73          
     74          
     75          #define MASTER_VOLUME_MUTE 0xFF
     76          /*----------------------------------------------------------------------------*/
     77          static  byte m_PwmMux2[]={0x01, 0x10, 0x32, 0x45}; 
     78          
     79          static  byte m_master_vol =0x14;  //c 14db
     80          static  byte m_Drc_ctrl[] = {0x00, 0x00, 0x00, 0x01};
     81          //L/R DRC
     82          static  byte m_Drc1_att_rel_threshold_LR[] = {0x06, 0xA3, 0x00, 0x00, 0x06, 0xA2, 0xFF, 0xFF};
     83          static  byte m_Drc1_sofrening_filter_ae_om_LR[] = {0x00, 0x00, 0x18, 0xF4, 0x00, 0x7F, 0xE7, 0x0C};
     84          static  byte m_Drc1_att_rel_rate_LR[] = {0x00, 0x04, 0x3c, 0xfd, 0xFF, 0xfd, 0x01, 0x3a};
     85          //center DRC
     86          static  byte m_Drc1_att_rel_threshold_C[] = {0x06, 0xA3, 0xD0, 0x00, 0x06, 0xA2, 0xFF, 0xFF};
     87          static  byte m_Drc1_sofrening_filter_ae_om_C[] = {0x00, 0x00, 0x18, 0xF4, 0x00, 0x7F, 0xE7, 0x0C};
     88          static  byte m_Drc1_att_rel_rate_C[] = {0x00, 0x04, 0x3C, 0xFD, 0xFF, 0xFD, 0x01, 0x3A};
     89          
     90          
     91          /*BD mode or Ternary modulation*/
     92          #ifdef TAS5713_TERNARY
     93          #define TAS5713_ICD1 0x80
     94          #define TAS5713_ICD2 0x7C
     95          #define TAS5713_ICD3 0x80
     96          #define TAS5713_ICD4 0x7C
     97          #define TAS5713_ENTERSHUTDOWN 0x48
     98          #define TAS5713_EXITSHUTDOWN 0x08
     99          
    100          #else /*BD mode*/
    101          #define TAS5713_ICD1 0xB8
    102          #define TAS5713_ICD2 0x60
    103          #define TAS5713_ICD3 0xA0
    104          #define TAS5713_ICD4 0x48
    105          #define TAS5713_ENTERSHUTDOWN 0x40
    106          #define TAS5713_EXITSHUTDOWN 0x00
    107          
    108          
    109          #endif
    110          
    111          //____________________________________________________________________________
    112          static void TAS5713_initialization_C( bool Address );
    113          
    114          static void TAS5713_Master_Vol_Mute_C(bool Address,bool enable );
    115          
    116          //____________________________________________________________________________
    117          DAP_C_CTRL_OBJECT DAP_C_ObjCtrl = 
    118          {
    119              TAS5713_initialization_C,
    120              TAS5713_Master_Vol_Mute_C
    121          };
    122          const DAP_C_CTRL_OBJECT *pDAP_C_ObjCtrl = &DAP_C_ObjCtrl;
    123          
    124          void TAS5713_C_DRC_enable(bool Address,bool bEnable )
    125          {
    126              byte Drc_ctrl[4] = {0x00, 0x00, 0x00, 0x01};
    127          
    128              if ( bEnable == TRUE )
    129              {
    130                  Drc_ctrl[3] = 0x01;
    131              }
    132              else
    133              {
    134                  Drc_ctrl[3] = 0x00;
    135              }
    136          
    137              //DRC
    138              TAS5713_I2C_write_n_byte(Address,DRC_CTRL_REG, Drc_ctrl, 4);
    139          }
    140          
    141          static void TAS5713_Master_Vol_Mute_C(bool Address,bool enable )
    142          {
    143              if ( enable == TRUE )
    144              {
    145                  TAS5713_I2C_write(Address, SOFT_MUTE_REG, 0x07);
    146                  TAS5713_I2C_write(Address, MASTER_VOL_REG, MASTER_VOLUME_MUTE);
    147              }
    148              else
    149              {
    150                  TAS5713_I2C_write(Address, MASTER_VOL_REG, m_master_vol);
    151                  TAS5713_I2C_write(Address, SOFT_MUTE_REG, 0x00);
    152              }
    153          }
    154          
    155          void TAS5713_shutdown(bool Address,bool value )
    156          {
    157              if ( value == TAS5713_ENTER_SHUTDOWN)
    158              {
    159                  TAS5713_I2C_write(Address, SYS_CONTROL_2_REG, 0x40); /*Enter all-channel shutdown (hard mute)*/
    160                  vTaskDelay(TASK_MSEC2TICKS(165)); /*Wait at least 1 ms + 1.3 กั tstop (where tstop is specified by register 0x1A).*/
    161              }
    162              else
    163              {
    164                  TAS5713_I2C_write(Address, SYS_CONTROL_2_REG, 0x02); /*Exit all-channel shutdown (hard mute)*/
    165                  vTaskDelay(TASK_MSEC2TICKS(165)); /*Wait at least 1 ms + 1.3 กั tstart (where tstop is specified by register 0x1A).*/
    166              }
    167          }
    168          
    169          static void TAS5713_initialization_C( bool Address )
    170          {
    171              //TAS5713_I2C_address(value);    /*Smith Mark*/
    172              vTaskDelay(TASK_MSEC2TICKS(50));
    173              
    174              /*3. Trim oscillator (write 0x00 to register 0x1B) and wait at least 50 ms.*/
    175              TAS5713_I2C_write(Address, OSC_TRIM_REG, 0x00);
    176              vTaskDelay(TASK_MSEC2TICKS(50));
    177                  
    178              TAS5713_I2C_write(Address, CHANNEL_1_VOL_REG, 0x30);
    179              TAS5713_I2C_write(Address, CHANNEL_2_VOL_REG, 0x30);
    180              TAS5713_I2C_write(Address, CHANNEL_3_VOL_REG, 0x30);
    181              TAS5713_I2C_write(Address, MASTER_VOL_REG, 0xff);
    182          
    183              TAS5713_I2C_write(Address, INPUT_MUX_REG, 0x88);
    184              TAS5713_I2C_write(Address, IC_DEALY_CH_1_REG, 0xB8);
    185              TAS5713_I2C_write(Address, IC_DEALY_CH_2_REG, 0x60);
    186              TAS5713_I2C_write(Address, IC_DEALY_CH_3_REG, 0xA0);
    187              TAS5713_I2C_write(Address, IC_DEALY_CH_4_REG, 0x48);
    188              /*Exit shutdown*/
    189              TAS5713_shutdown(Address, TAS5713_EXIT_SHUTDOWN);
    190              //DRC
    191              //TAS5713_I2C_write_n_byte(__Addr_MinorAmp, DRC_CTRL_REG,m_Drc_ctrl,4);
    192              //TAS5713_I2C_write_n_byte(__Addr_MinorAmp, DRC_1_ATT_REL_THRESHOLD_REG, m_Drc1_att_rel_threshold_LR,8);
    193              //TAS5713_I2C_write_n_byte(__Addr_MinorAmp, DRC_1_SOFTENING_FILTER_AE_OM_REG, m_Drc1_sofrening_filter_ae_om_LR,8);
    194              //TAS5713_I2C_write_n_byte(__Addr_MinorAmp, DRC_1_ATT_REL_RATE_REG, m_Drc1_att_rel_rate_LR,8);
    195          
    196          }
    197          
    198          #endif 

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       16  TAS5713_C_DRC_enable
             16 -> TAS5713_I2C_write_n_byte
        8  TAS5713_Master_Vol_Mute_C
              0 -> TAS5713_I2C_write
              8 -> TAS5713_I2C_write
        8  TAS5713_initialization_C
              8 -> TAS5713_I2C_write
              0 -> TAS5713_shutdown
              8 -> vTaskDelay
        8  TAS5713_shutdown
              8 -> TAS5713_I2C_write
              0 -> vTaskDelay


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ?<Constant {0, 0, 0, 1}>
       6  ?Subroutine0
       8  DAP_C_ObjCtrl
      32  TAS5713_C_DRC_enable
      44  TAS5713_Master_Vol_Mute_C
     106  TAS5713_initialization_C
      26  TAS5713_shutdown
       1  m_master_vol
       4  pDAP_C_ObjCtrl

 
  13 bytes in section .data
 218 bytes in section .text
 
 218 bytes of CODE memory
  13 bytes of DATA memory

Errors: none
Warnings: 9
